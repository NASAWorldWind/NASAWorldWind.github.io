/**
 * Copyright (c) 2014, 2016, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
"use strict";
define(["ojs/ojcore","jquery","ojs/ojcomponentcore","ojs/ojdvt-base","ojs/internal-deps/dvt/DvtDiagram"],function(a,f,b,d,c){a.ya("oj.ojDiagram",f.oj.dvtBaseComponent,{widgetEventPrefix:"oj",options:{optionChange:null},yf:function(b){this.options._logger=a.q;this.options._templateFunction&&(this.options.renderer=this.bC(this.options._templateFunction));this.options.renderer&&(this.options._contextHandler=this.UI());return this._super(b)},bC:function(a){var b=this;return function(c){var d=document.createElement("div");
d.style.display="none";d.Bw=b.Ze;b.element.append(d);a({parentElement:d,data:c.data});return(c=d.children[0])&&"http://www.w3.org/2000/svg"===c.namespaceURI?(d.removeChild(c),f(d).remove(),c):c?b.Hv(c):null}},UI:function(){var b=this;return function(c,d,f,l,m){return{component:a.Components.Tf(b.element),parentElement:c,rootElement:d,data:f,state:l,previousState:m,id:f.id,type:"node",label:f.label}}},renderDefaultHover:function(a){a.previousState&&a.state.hovered==a.previousState.hovered||this.Hv(this.element).processDefaultHoverEffect(a.id,
a.state.hovered)},renderDefaultSelection:function(a){a.previousState&&a.state.selected==a.previousState.selected||this.Hv(this.element).processDefaultSelectionEffect(a.id,a.state.selected)},renderDefaultFocus:function(a){a.previousState&&a.state.focused==a.previousState.focused||this.Hv(this.element).processDefaultFocusEffect(a.id,a.state.focused)},sf:function(a,b,d){return c.Diagram.newInstance(a,b,d)},hi:function(a){var b=a.subId;"oj-diagram-link"==b?b="link["+a.index+"]":"oj-diagram-node"==b?b=
"node["+a.index+"]":"oj-diagram-tooltip"==b&&(b="tooltip");return b},jg:function(a){var b={};0==a.indexOf("link")?(b.subId="oj-diagram-link",b.index=this.Vg(a)):0==a.indexOf("node")?(b.subId="oj-diagram-node",b.index=this.Vg(a)):"tooltip"==a&&(b.subId="oj-diagram-tooltip");return b},Ge:function(){var a=this._super();a.push("oj-diagram");return a},ii:function(){var a=this._super();a["oj-diagram-node-label"]={path:"styleDefaults/nodeDefaults/labelStyle",property:"CSS_TEXT_PROPERTIES"};a["oj-diagram-node oj-selected"]=
{path:"styleDefaults/nodeDefaults/selectionColor",property:"border-color"};a["oj-diagram-node oj-hover"]=[{path:"styleDefaults/nodeDefaults/hoverOuterColor",property:"border-top-color"},{path:"styleDefaults/nodeDefaults/hoverInnerColor",property:"border-bottom-color"}];a["oj-diagram-link"]={path:"styleDefaults/linkDefaults/color",property:"color"};a["oj-diagram-link-label"]={path:"styleDefaults/linkDefaults/labelStyle",property:"CSS_TEXT_PROPERTIES"};a["oj-diagram-link oj-selected"]={path:"styleDefaults/linkDefaults/selectionColor",
property:"border-color"};a["oj-diagram-link oj-hover"]=[{path:"styleDefaults/linkDefaults/hoverOuterColor",property:"border-top-color"},{path:"styleDefaults/linkDefaults/hoverInnerColor",property:"border-bottom-color"}];return a},ki:function(){return["optionChange"]},li:function(){var a=this.options.translations,b=this._super();b["DvtUtilBundle.DIAGRAM"]=a.componentName;return b},getNodeCount:function(){return this.ka.getAutomation().getNodeCount()},getNode:function(a){return this.ka.getAutomation().getNode(a)},
getLinkCount:function(){return this.ka.getAutomation().getLinkCount()},getLink:function(a){return this.ka.getAutomation().getLink(a)},getContextByNode:function(a){return(a=this.getSubIdByNode(a))&&"oj-diagram-tooltip"!==a.subId?a:null},ji:function(){return{root:["nodes","links"]}}})});