/**
 * Copyright (c) 2014, 2016, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
"use strict";
/*
 Copyright 2013 jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
*/
define(["ojs/ojcore","jquery","ojs/ojeditablevalue"],function(a){(function(){a.ya("oj.ojSwitch",$.oj.editableValue,{version:"1.1.0",defaultElement:"\x3cinput\x3e",widgetEventPrefix:"oj",options:{disabled:!1,readOnly:!1,required:!1,title:"",value:!1},refresh:function(){this._super();this.Ba()},widget:function(){return this.Ol},getNodeBySubId:function(a){var b,d=this.widget();b=null==a||null==a.subId?d:null;return b||(a=a.subId,"oj-switch-thumb"!==a&&"oj-switch-track"!==a)?b||null:d.find("."+a)[0]},
getSubIdByNode:function(a){var b=$(this.element).attr("id"),d,c=null;null!=a&&($(a).hasClass("oj-switch-track")||$(a).hasClass("oj-switch-thumb"))&&(d=$(a).parents("div.oj-switch").find("input.oj-component-initnode").attr("id"),b===d&&$(a).hasClass("oj-switch-track")?c={subId:"oj-switch-track"}:b===d&&$(a).hasClass("oj-switch-thumb")&&(c={subId:"oj-switch-thumb"}));return c},va:{a$:"SwitchOFF",b$:"SwitchON"},ae:function(f,b){var d;this._super(f,b);a.ze.al([{W:"disabled",xc:!0},{W:"readonly",option:"readOnly",
xc:!0},{W:"required",xc:!1,ef:function(){return!1}},{W:"checked",option:"value",xc:!1,ef:function(a){return a?!0:!1}},{W:"title"}],b,this);d=this.option("value");this.option({required:!1,value:!!d},{_context:{Hc:!0,Wa:!0}})},_ComponentCreate:function(){this._super();if(!this.element.is("input"))throw Error("ojSwitch can be bound to INPUT only.");this.kY=this.element.css("display");this.element.css("display","none").attr("type","checkbox").attr("checked",this.option("value")).attr("tabindex","-1").attr("disabled",
this.option("disabled")).attr("readonly",this.option("readOnly"));this.Ol=this.element.wrap("\x3cdiv\x3e\x3c/div\x3e").parent().addClass("oj-switch oj-component oj-form-control");this.Ol.append("\x3cdiv class\x3d'oj-switch-container'\x3e\x3cdiv class\x3d'oj-switch-track'\x3e\x3cdiv class\x3d'oj-switch-thumb' tabIndex\x3d'0'\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e");this.ll=this.Ol.find(".oj-switch-thumb");this.ll.attr("role","switch checkbox");this.bla(this.element,this.ll);this.Ba()},bla:function(a,
b){var d=a.prop("id"),c=a.attr("aria-labelledby"),e=a.attr("aria-label");e?b.attr("aria-label",e):c?b.attr("aria-labelledby",c):d&&(d=$("label[for\x3d'"+d+"']"))&&(d.attr("id")?b.attr("aria-labelledby",d.attr("id")):b.attr("aria-label",$(d).text()))},Ba:function(){var a=$(this.widget()),b=this.option("title");this.Fj();if(void 0!==a){this.element.attr("checked",this.option("value"));a.removeClass("oj-disabled oj-read-only oj-selected oj-hover oj-active");$(this.ll).attr("tabindex","0");$(this.ll).html("");
if(this.option("disabled")||this.option("readOnly"))this.option("disabled")?a.addClass("oj-disabled"):(a.addClass("oj-read-only"),$(this.ll).html(this.Ela())),$(this.ll).removeAttr("tabindex");this.option("value")&&a.addClass("oj-selected");void 0!==b&&$(this.ll).attr("title",b);$(this.ll).attr("aria-checked",this.option("value"));$(this.ll).removeAttr("aria-disabled");a.removeAttr("aria-disabled");this.Ev()||$(this.ll).attr("aria-disabled","true")}},Ela:function(){var a=this.va.a$;this.option("value")&&
(a=this.va.b$);return this.A(a)},Fj:function(){this._off(this.Ol,"keydown keyup mousedown mouseup mouseleave mouseenter touchstart");this.Ev()&&(this._on(this.Ol,this.lma),this._hoverable(this.Ol));this._focusable(this.Ol)},lma:{keydown:function(a){if(a.which===$.ui.keyCode.ENTER||a.which===$.ui.keyCode.SPACE)$(a.currentTarget).addClass("oj-active"),a.preventDefault()},keyup:function(a){a.which!==$.ui.keyCode.ENTER&&a.which!==$.ui.keyCode.SPACE||this.gc(!this.option("value"),a)},mousedown:function(a){1===
a.which&&$(a.currentTarget).addClass("oj-active")},mouseup:function(a){1===a.which&&this.gc(!this.option("value"),a)},mouseleave:function(a){1===a.which&&$(a.currentTarget).removeClass("oj-active")},mouseenter:function(a){1===a.which&&$(a.currentTarget).addClass("oj-active")},dta:function(a){this.gc(!this.option("value"),a);a.preventDefault()}},_GetDefaultStyleClass:function(){return"oj-switch"},ssa:function(){return"switch checkbox"},_destroy:function(){this.Ol.find(".oj-switch-track").remove();
a.v.unwrap(this.element);this.Gs(this.element);return this._super()},$d:function(){return this.Ol},_setOption:function(a,b,d){switch(a){case "disabled":case "readOnly":case "value":b=!!b;break;case "required":b=!1;break}this._super(a,b,d);this.Ba()}})})()});