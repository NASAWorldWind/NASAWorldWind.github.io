/**
 * Copyright (c) 2014, 2016, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
"use strict";
define(["ojs/ojcore","jquery","ojs/ojeditablevalue"],function(a,f){a.ya("oj._ojRadioCheckbox",f.oj.baseComponent,{version:"1.0.0",defaultElement:"\x3cinput\x3e",widgetEventPrefix:"oj",options:{disabled:null,checked:null,type:null},label:function(){void 0===this.Rb&&(this.Rb=this.iJ());return this.Rb},refresh:function(){this._super();this.Ba()},refreshDisabled:function(){this.BL()},widget:function(){return this.j6},ae:function(a,d){var c;this._super(a,d);"checked"in d||(this.cO=!0,c=!!this.element.prop("checked"),
this.option("checked",c,{_context:{Wa:!0}}));if("boolean"!==typeof this.options.checked)throw Error("checked option must be a boolean");"disabled"in d||(c=!!this.element.prop("disabled"),this.option("disabled",c,{_context:{Wa:!0}}));if("boolean"!==typeof this.options.disabled)throw Error("disabled option must be a boolean");"type"in d||this.option("type",this.element.prop("type"),{_context:{Wa:!0}})},_ComponentCreate:function(){this._super();var a=this.options.type;"checkbox"==a?(this.j6=this.element.addClass("oj-checkbox oj-component"),
this.Rb=this.iJ(),this.Rb.addClass("oj-checkbox-label")):"radio"==a&&(this.j6=this.element.addClass("oj-radio oj-component"),this.Rb=this.iJ(),this.Rb.addClass("oj-radio-label"));this.Zm=this.Kda();this._focusable(this.element);f.each(this.Rb,function(){f(this.childNodes[0]).wrap("\x3cspan class\x3d'oj-radiocheckbox-label-text'\x3e\x3c/span\x3e");var a=document.createElement("span");a.setAttribute("class","oj-radiocheckbox-icon");this.appendChild(a)});this.Ba()},Qv:function(a){this.Xx=a.attr("class")},
Gs:function(){this.Xx?this.element.attr("class",this.Xx):this.element.removeAttr("class")},Ba:function(){this.BL();this.cO||this.Yx(this.options.checked);this.element.toggleClass("oj-selected",this.options.checked);this.Rb.toggleClass("oj-selected",this.options.checked)},Yx:function(a){this.element.prop("checked",!!a)},BL:function(){this.be()?(this.element.prop("disabled",!0).removeAttr("aria-disabled").removeClass("oj-enabled").addClass("oj-disabled"),this.Rb.removeClass("oj-enabled").addClass("oj-disabled"),
this.Zm&&this.Zm.removeClass("oj-enabled").addClass("oj-disabled")):(this.element.prop("disabled",!1).removeAttr("aria-disabled").removeClass("oj-disabled").addClass("oj-enabled"),this.Rb.addClass("oj-enabled").removeClass("oj-disabled"),this.Zm&&this.Zm.addClass("oj-enabled").removeClass("oj-disabled"))},_setOption:function(a,d){this._superApply(arguments);"disabled"===a&&(d=!!d,this.BL(d));"checked"===a&&(this.Yx(d),this.element.toggleClass("oj-selected",d),this.Rb.toggleClass("oj-selected",d),
this.Zm&&this.Zm.toggleClass("oj-selected",d))},iJ:function(){var a=this.element.closest("label"),d="label[for\x3d'"+this.element.prop("id")+"']";return a.add(f(d))},Kda:function(){var b;if(this.Rb&&(b=this.Rb.parent())&&(b.hasClass("oj-choice-row")||b.hasClass("oj-choice-row-inline")))return b;a.q.warn("The radioset/checkboxset's input and label dom should be wrapped in a dom node with class 'oj-choice-row' or 'oj-choice-row-inline'");return null},getNodeBySubId:function(a){var d=this._super(a);
d||(a=a.subId,"oj-radiocheckbox-input"===a&&(d=this.element[0]),"oj-radiocheckbox-label"===a&&(d=this.label()[0]));return d||null},_destroy:function(){var a=this._super(),d=this.options.type;"checkbox"==d?this.Rb.removeClass("oj-enabled oj-disabled oj-selected oj-checkbox-label"):"radio"==d&&this.Rb.removeClass("oj-enabled oj-disabled oj-selected oj-radio-label");this.Zm&&this.Zm.removeClass("oj-enabled oj-disabled oj-selected");f.each(this.Rb,function(){this.removeChild(this.getElementsByClassName("oj-radiocheckbox-icon")[0]);
var a=this.getElementsByClassName("oj-radiocheckbox-label-text");void 0!==a&&f(a[0].childNodes[0]).unwrap()});return a}})});